<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>音樂播放器</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
  html, body {
    margin: 0; padding: 0; height: 100%; width: 100%;
    font-family: 'Poppins', sans-serif; background: #0f172a; color: white;
    display: flex; justify-content: center; align-items: center;
    overflow: hidden;
  }

  #player-container {
    position: relative;
    width: 360px;
    background: rgba(30, 41, 59, 0.8);
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.6);
    text-align: center;
    z-index: 10;
  }

  #cover-container {
    width: 260px;
    height: 260px;
    margin: 0 auto 20px auto;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 8px 24px rgba(0,0,0,0.6);
    background: rgba(15, 23, 42, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  #cover-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  #controls button {
    background: #1e293b;
    border: none;
    color: white;
    padding: 10px 15px;
    margin: 5px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s;
  }
  #controls button:hover {
    background: #334155;
  }

  #progress-bar {
    width: 100%;
    margin-top: 10px;
  }

  #now-playing {
    margin-top: 10px;
    font-size: 14px;
    opacity: 0.8;
  }

  #time-display {
    font-size: 12px;
    margin-top: 5px;
    opacity: 0.7;
  }

</style>
</head>
<body>
  <div id="player-container">
    <div id="cover-container">
      <img id="cover-image" src="default-cover.jpg" alt="專輯封面">
    </div>

    <div id="controls">
      <button id="prev">⏮️</button>
      <button id="play">▶️</button>
      <button id="next">⏭️</button>
    </div>
    <input type="range" id="progress-bar" value="0" min="0" max="100">
    <div id="now-playing">尚未播放</div>
    <div id="time-display">00:00 / 00:00</div>
  </div>

  <script>
    const playlist = [
      { name: "歌曲1", url: "music1.mp3", cover: "cover1.jpg" },
      { name: "歌曲2", url: "music2.mp3", cover: "cover2.jpg" },
      { name: "歌曲3", url: "music3.mp3", cover: "cover3.jpg" }
    ];

    const audio = new Audio();
    let current = 0;

    const playBtn = document.getElementById("play");
    const prevBtn = document.getElementById("prev");
    const nextBtn = document.getElementById("next");
    const progressBar = document.getElementById("progress-bar");
    const nowPlayingEl = document.getElementById("now-playing");
    const timeDisplay = document.getElementById("time-display");
    const coverImage = document.getElementById("cover-image");

    function loadCurrentTrack() {
      const track = playlist[current];
      audio.src = track.url;
      nowPlayingEl.textContent = `正在播放: ${track.name}`;
      coverImage.src = track.cover || "default-cover.jpg";
    }

    function updateTimeDisplay(currentTime, duration) {
      function fmt(t) {
        const m = Math.floor(t / 60);
        const s = Math.floor(t % 60);
        return `${m.toString().padStart(2, "0")}:${s.toString().padStart(2, "0")}`;
      }
      timeDisplay.textContent = `${fmt(currentTime)} / ${fmt(duration)}`;
    }

    playBtn.addEventListener("click", () => {
      if (audio.paused) {
        audio.play();
        playBtn.textContent = "⏸️";
      } else {
        audio.pause();
        playBtn.textContent = "▶️";
      }
    });

    prevBtn.addEventListener("click", () => {
      current = (current - 1 + playlist.length) % playlist.length;
      loadCurrentTrack();
      audio.play();
      playBtn.textContent = "⏸️";
    });

    nextBtn.addEventListener("click", () => {
      current = (current + 1) % playlist.length;
      loadCurrentTrack();
      audio.play();
      playBtn.textContent = "⏸️";
    });

    audio.addEventListener("timeupdate", () => {
      if (audio.duration) {
        progressBar.value = (audio.currentTime / audio.duration) * 100;
        updateTimeDisplay(audio.currentTime, audio.duration);
      }
    });

    progressBar.addEventListener("input", () => {
      if (audio.duration) {
        audio.currentTime = (progressBar.value / 100) * audio.duration;
      }
    });

    loadCurrentTrack();
  </script>
</body>
</html>
